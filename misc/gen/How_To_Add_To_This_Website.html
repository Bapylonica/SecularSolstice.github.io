<html>
  <head>
    <link rel=stylesheet href=../../theme.css>
    <title>
 How to Add to this Website
</title></head><body>
<h1 id="how-to-add-to-this-website">How to Add to this Website</h1>
<h2 id="general-principles">General Principles</h2>
<p>This website is hosted <a href="https://github.com/SecularSolstice/SecularSolstice.github.io/">on a github repository</a>. In addition to robust, ad-free hosting, this gets us version tracking, history, collaboration and branching/merging support.</p>
<p>This is as close to a bag of files as I could get it while still being a viable website. All the HTML is auto-generated using makefiles. Most of the content is in markdown. Hopefully this will make it pretty easy to modify things and to bring things into formats not-yet-conceived while also making things pretty.</p>
<p>Cloning your own git repo is recommended, as that will make the autogeneration go much more smoothly. If that's not practical, you can use github's web interface and ask someone else to run <code>make all</code>.</p>
<p>Programs used in the autogen scripts include lilypond, timidity, lame, pandoc and python. Future developments are likely to include wkhtmltopdf, LaTeX, abc2ly, imagemagick and ffmpeg. All of these are available through apt or non-debian equivalents.</p>
<p>There are a few cases where make's dependency detection won't work. If this seems to be happening, delete and remake the relevant files.</p>
<p>When in doubt, copy something already here.</p>
<h2 id="adding-a-song">Adding a Song</h2>
<ul>
<li>Create a directory for it and a <code>gen/</code> subdirectory</li>
<li>Create a <code>README.md</code> file, starting with the title as a level-1 header and the attribution and summary as level 2.</li>
<li>Create a canonical representation of the song. If a chord chart, call it <code>chart.csv</code>. If Lilypond, call it <code>sheet-music.ly</code>.</li>
<li>Create a <code>Makefile</code>. This must define the <code>PREFIX</code> and <code>FILES_TO_LIST</code> variables, provide a rule for <code>gen/${PREFIX}lyrics.txt</code> and include <code>../scripts/Makefile.common</code>. It may also provide rules for other files (such as the voice-only sheet music for Voicing of Fear). Note that the simple conversions are provided for you, but the lyrics are not because there's too much variation (but helpful scripts are provided).</li>
<li>Add any other files you want to make available.</li>
<li>Run <code>make all</code></li>
<li>Add the song to the All Songs list in the appropriate place and to any other relevant lists.</li>
<li>Run <code>make all</code> on the lists as well.</li>
<li>Check that everything looks correct</li>
<li>Add everything to git, including the generated files</li>
<li>Commit and push</li>
</ul>
<h2 id="adding-a-speech">Adding a Speech</h2>
<ul>
<li>Put it in the speeches directory in markdown format</li>
<li>Begin with the title as a level-1 header and the author as a level-2</li>
<li>Add it to the All Speeches lists and any other relevant lists</li>
<li>Run <code>make all</code> on first the speeches and then the lists</li>
<li>Check that everything looks correct</li>
<li>Add everything to git, including the generated files</li>
<li>Commit and push</li>
</ul>
<h2 id="adding-a-list">Adding a List</h2>
<ul>
<li>Create a file in the lists/ directory. Use # marks for headers. For speeches and songs, use the file/directory name, not the formatted title.</li>
<li>The name of your file should have underscores for spaces, but the capitalization you want to display. Also, lists will be alphabetized on the main page, so name accordingly (if this becomes a problem, alter the create-main-index.sh script).</li>
<li>Run <code>make all</code> in both the lists directory and the root.</li>
<li>Check that everything looks correct</li>
<li>Add everything, including the generated files</li>
<li>Commit and push</li>
</ul>
<h2 id="always-check-everything">Always check everything</h2>
<h2 id="always-git-add-the-generated-files">Always git add the generated files</h2>
<h2 id="when-in-doubt-copy-something-already-here">When in doubt, copy something already here</h2>
</body></html>
